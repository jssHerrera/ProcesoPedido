CREATE TABLE PEDIDO_CABECERA(
    PEDIDO_CABECERA_ID NUMERIC(6) NOT NULL PRIMARY KEY,
    CLIENTE_ID NUMERIC(6) REFERENCES CLIENTE(CLIENTE_ID),
    EMPLEADO_ID NUMERIC(6) REFERENCES EMPLEADO(EMPLEADO_ID),
    GLOSA VARCHAR2(240) NULL,
    FECHA_REGISTRO DATE DEFAULT SYSDATE,
    
    SUB_TOTAL NUMERIC(9,2) NOT NULL,
    DESCUENTO NUMERIC(9,2) NOT NULL,
    IGV NUMERIC(9,2) NOT NULL,
    TOTAL NUMERIC(9,2) NOT NULL,

    ESTADO CHAR(1) DEFAULT '1' NOT NULL
    
);

CREATE SEQUENCE SEQ_PEDIDO_CABECERA;

CREATE TABLE PEDIDO_DETALLE(
    PEDIDO_DETALLE_ID NUMERIC(6) NOT NULL PRIMARY KEY,
    PEDIDO_CABECERA_ID NUMERIC(6) REFERENCES PEDIDO_CABECERA(PEDIDO_CABECERA_ID),
    PRODUCTO_ID NUMERIC(6) REFERENCES PRODUCTO(PRODUCTO_ID),
    CANTIDAD NUMERIC(6) NOT NULL,
    PRECIO NUMERIC(6,2) NOT NULL,
    SUB_TOTAL NUMERIC(9,2) NOT NULL,
    
    ESTADO CHAR(1) DEFAULT '1' NOT NULL
);

CREATE SEQUENCE SEQ_PEDIDO_DETALLE;


ALTER TABLE PEDIDO_CABECERA
ADD 
    (AUD_TIPO CHAR(1) NOT NULL,
    AUD_IDUSUARIO NUMERIC(4) NOT NULL,
    AUD_SESION VARCHAR2(60) NULL,
    AUD_IP VARCHAR2(20) NULL,
    AUD_FECHA DATE NULL); 
    
ALTER TABLE PEDIDO_DETALLE
ADD 
    (AUD_TIPO CHAR(1) NOT NULL,
    AUD_IDUSUARIO NUMERIC(4) NOT NULL,
    AUD_SESION VARCHAR2(60) NULL,
    AUD_IP VARCHAR2(20) NULL,
    AUD_FECHA DATE NULL); 